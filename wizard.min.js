$.__wizardErrors=[];$.wizardDefault=function(){return{alwaysOnTop:true,postForm:true,url:null,dataType:"json",method:"POST",wizard:".wizard"}};$.wizardError=function(r){$.__wizardErrors.push(r)};$.wizardErrorRange=function(r){$.__wizardErrors.concat(r)};$.wizardErrorCount=function(){return $.__wizardErrors.length};$.wizardHasErrors=function(){return $.__wizardErrors.length?true:false};$.__wizardGetContainer=function(r){return $(r)};$.__wizardPageCount=function(r){return $(r+" .page").length};$.__wizardCurrentPage=function(r){var e=$(r+" .page.active");return e};$.__wizardCurrentPageIndex=function(r){var e=false;$(r+" .page").each(function(r,n){if($(n).hasClass("active")){e=r;return false}});return e};$.__wizardStep=function(r,e,n){var a=$.__wizardPageCount(r);var t=$.__wizardCurrentPage(r);var i=n;var o=i<$.__wizardCurrentPageIndex(r);var u=$(r+" .controls .finish-button");var s=$(r+" .controls .prev-button");var d=$(r+" .controls .next-button");var l=null;console.log(i);if(i!==false){$(u).hide();$(s).show();$(d).show();if(i===a-1){$(d).hide();$(s).show();$(u).show()}else if(i===0){$(s).hide()}var c=null;while($.__wizardErrors.length>0){$.__wizardErrors.pop()}if(o){c=true}else{c=e(i)}if(c===true){$(r+" .page.active .errors").remove();$(t).removeClass("hasErrors");$(t).removeClass("active");l=$(r+" .page").get(i);$(l).addClass("active");$(r).trigger("wizard.pageInit",l)}else{var f=$.__wizardErrors;i--;console.log(i);if(i===0){$(s).hide()}$(t).addClass("hasErrors");console.log("Errors were found");console.log(f);$(r).trigger("wizard.error",f)}}else{console.log("This step does not exist")}};$.wizard=function(r,e){var e=e;if(e==undefined||e==null){e=$.wizardDefault()}var r=r;if(r==undefined||r==null){r={validate:function(){return true},serialize:function(r){return $(r).serialize()}}}if(r.validate==undefined)r.validate=function(){};if(r.serialize==undefined)r.serialize=function(r){return $(r).serialize()};var n=e.wizard;$(n+" .controls .finish-button").hide();$(n+" .controls .next-button").show();$(n+" .controls .prev-button").hide();$(n+" .controls .finish-button").on("click",function(a){a.preventDefault();$.ajax({url:e.url,method:e.method,dataType:e.dataType,data:r.serialize(e.wizard),success:function(r){$(n).trigger("wizard.requestSuccess",r)},error:function(r){$(n).trigger("wizard.requestError",r)}});return false});$(n+" .controls .next-button").on("click",function(a){a.preventDefault();var t=$.__wizardCurrentPageIndex(n);$.__wizardStep(e.wizard,r.validate,++t);return false});$(n+" .controls .prev-button").on("click",function(a){a.preventDefault();var t=$.__wizardCurrentPageIndex(n);$.__wizardStep(e.wizard,r.validate,--t);return false})};